Avalon2 is the second machine of Avalon project. using the 55nm ASIC chips

# Pictures
## PCB
 [[!img "Avlaon2-modular-pcb-3d.png" size=320x320]] [[!img "Avlaon2-modular-front.jpg" size=320x320]]  [[!img "Avlaon2-modular-back.JPG" size=320x320]]

 [[!img "Avlaon2-modular-connector-and-fpga.JPG" size=320x320]]  [[!img "Avlaon2-modular-a3255.JPG" size=320x320]]  [[!img "Avlaon2-modular-power-chip.JPG" size=320x320]] 

 [[!img "Avlaon2-modular-fan-connector.jpg" size=320x320]]

## Single modular
 [[!img "Avalon2-single-modular-all-1.jpg" size=320x320]]  [[!img "Avalon2-single-modular-all-2.jpg" size=320x320]]  [[!img "Avalon2-single-modular-all.JPG" size=320x320]]

 [[!img "avalon2-single-modular-set.jpg" size=320x320]]  [[!img "avalon2-modular-with-case-con.jpg" size=320x320]]  [[!img "avalon2-modular-with-case.jpg" size=320x320]]

 [[!img "avalon2-modular-top-side.jpg" size=320x320]]  [[!img "avalon2-modular-connector-side.jpg" size=320x320]]  [[!img "avalon2-modular-FAN-side.jpg" size=320x320]]

 [[!img "avalon2-single-modular-connector-back.jpg" size=320x320]]  [[!img "avalon2-single-modular-connector-front.jpg" size=320x320]]

## Avalon2 parts
 [[!img "avalon2-3modular-connector-back.jpg" size=320x320]]  [[!img "avalon2-3modular-connector-front.jpg" size=320x320]] 

 [[!img "avalon2-usb-serial-connector.jpg" size=320x320]]  [[!img "avalon2-usb-serial-connector-BACK.jpg" size=320x320]]  [[!img "avalon2-how-to-connector.jpg" size=320x320]]

 [[!img "avalon2-fan1.jpg" size=320x320]]  [[!img "avalon2-fan.jpg" size=320x320]]

## Avalon2
 [[!img "avlaon2-front-without-face.jpg" size=320x320]]  [[!img "avalon2-back.jpg" size=320x320]]   [[!img "avalon2-top-1.jpg" size=320x320]]

 [[!img "avalon2-details-1.jpg" size=320x320]]  [[!img "avalon2-details-2.jpg" size=320x320]]  [[!img "avalon2-details-3.jpg" size=320x320]]

 [[!img "avalon2-power.jpg" size=320x320]]  [[!img "avalon2-power-usb.jpg" size=320x320]]  [[!img "avalon2-top.jpg" size=320x320]]

# User manual
## TP LINK WR703N
The USB on the AR9331 have bugs. if you want use serial console, please the direct serial console on 703N (the **/dev/ttyATH0**). it's far more stable then USB-serial convertor. you may want add a usb-hub between machine and 703n

## Raspberry Pi
   [[!img "13_ports_usb_hub.png" title="320px " title="thumb " title="The 13 ports USB HUB "]]

* The default firmware IP address is **192.168.0.100**, you can access it by http://192.168.0.100
* You may need update the address/DNS to your local configuration. DO NOT FORGET your IP address.
* If Rpi can access internet the cgminer should automatic start

* 8GB Memory card: http://item.jd.com/632744.html
* Reflash: sudo dd if=openwrt-brcm2708-sdcard-vfat-ext4.img of=/dev/sdb bs=4M #/dev/sdb is your memory card
* USB Hub, [UNITEK Y-2132 USB2.0 13ports](http://item.jd.com/511117.html)
* USB WiFi, [EDUP EP-N8508GS](http://item.jd.com/509932.html)

## Manual by others

* [彩云比特中文评测](http://www.cybtc.com/article-565-1.html)
* [Guide - Dogie's Comprehensive Avalon Avalon2 Setup + Silencer Mod](https://bitcointalk.org/index.php?topic=493358.0)

# The Avalon2

* A3255 ASIC Datasheet: http://downloads.canaan-creative.com/hardware/A3255/datasheet/
* The Hardware design files: http://downloads.canaan-creative.com/hardware/A3255/avalon2

## Power supply
 [[!img "Avalon2_power_supply.jpg" size=300x300]]

## Specification
	315GH/s, 1020W@220V in normal mode. 
	210GH/s, 420W@220V in ECO mode. 

## Avalon2 Single Modular
	Module hash speed: ~105GHS
	Chip operating speed: 1.5GHS 
	Chip working voltage: 1.0V 
	Typical values ​​DH: ~2% 
	Module Power: 24.5A@12V, 294W (excluding fan power consumption). 0.1A @ 5V, 0.5A @ 3.3V. 
	Power Module conversion efficiency: >= 87% 
	Design Operating temperature: 85C (chip temperature), 60C (PCB, temperature sensor measurements) 
	Fan: 4PIN PWM speed control, report fan speed back.
	Include: Single modular, USB Connector
### LEDS
	from bottom(FPGA) to top is 1 to 8 
	1, 2, 3, 4, 5: Blink when found nonce
	6, 7, Data transfer
	8: Error or under testing

# Firmware
## Source code

* [[https://github.com/BitSyncom/mm/ MM(Miner Manager)]]
* [ The cgminer Avalon2 support](https://github.com/BitSyncom/cgminer/tree/avalon2)
* [OpenWrt LUCI page](https://github.com/BitSyncom/luci/tree/cgminer-webui-avalon2/applications/luci-cgminer)
* [OpenWrt cgminer package, files and config](https://github.com/BitSyncom/cgminer-openwrt-packages)
* [Build script file](https://github.com/BitSyncom/avalon-extras/blob/master/scripts/build-avalon-image.sh)

## [http://downloads.canaan-creative.com/software/avalon2/ NEXT]

* Here: http://downloads.canaan-creative.com/software/avalon2/
* Poweron five small module one by one. good for PSU.
* Update cgminer to 4.0.0, add devs information on status page.
* MM: read the power good single back.

## [http://downloads.canaan-creative.com/software/avalon2/2014-01-23/  20140123]

* Here: http://downloads.canaan-creative.com/software/avalon2/2014-01-23/
* Include the first stable version of MM firmware **201401-a90711a0**
* Include the RPi OpenWrt firmware
* Include the 703N OpenWrt firmware 
* Support fixed fan speed, support A3255 frequency from 1G to 2G, support adjust voltage for 0.65v to 1.1v
* Display all modules status include 2 fan, 2 temperature sensors, voltage and frequency
* Voltage display as encode mode. needs to be changed to human readable
* Include an ASIC cores testing python script

# Testing

* The Avalon2 MM firmware support testing. no needs particular firmware.
* The host test program is here: https://github.com/BitSyncom/avalon-extras/blob/master/scripts/avalon2-a3255-modular-test.py
* Run avalon2-a3255-modular-test.py for testing. you may update your serial port at -s option.

# Donation

* Ngzhang0: [1kBGUHDxmSAegACRB6fcE2vrnVAfPJarW](https://blockchain.info/address/1kBGUHDxmSAegACRB6fcE2vrnVAfPJarW)
* Con Kolivas: [15qSxP1SQcUX3o4nhkfdbgyoWEFMomJ4rZ](https://blockchain.info/address/15qSxP1SQcUX3o4nhkfdbgyoWEFMomJ4rZ)
* Kanoi: [1KanoiBupPiZfkwqB7rfLXAzPnoTshAVmb](https://blockchain.info/address/1KanoiBupPiZfkwqB7rfLXAzPnoTshAVmb)
* Xiangfu: [19BT2rcGStUK23vwrmF6y6s3ZWpxzQQn8x](https://blockchain.info/address/19BT2rcGStUK23vwrmF6y6s3ZWpxzQQn8x)

# Links 

* 55nm open design contest: http://avalon-asics.com/avalon-gen2-55nm-open-source-design-contest/
* Documents release by Avalon: http://downloads.canaan-creative.com/hardware/A3255/
* [[Avalon2_prototype]] by using Avalon1 hardware design

[[zh-cn:阿瓦隆2]]

[[!tag "Hardware"]]
